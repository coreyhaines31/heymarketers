<!-- Dynamic SEO Page -->
<div class="min-h-screen" style="background-color: var(--color-background);">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- SEO Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-3" style="color: var(--color-foreground);"><%= @meta_title.gsub(' - HeyMarketers', '') %></h1>
      <p class="text-lg mb-6" style="color: var(--color-muted-foreground);"><%= @meta_description %></p>

      <!-- Breadcrumb Navigation -->
      <nav class="flex items-center space-x-2 text-sm mb-6" style="color: var(--color-muted-foreground);">
        <%= link_to "Home", root_path, class: "hover:underline", style: "color: var(--color-primary);" %>
        <span>‚Üí</span>

        <% if @dimensions.size == 1 %>
          <span class="font-medium" style="color: var(--color-foreground);"><%= @meta_title.gsub(' - HeyMarketers', '') %></span>
        <% else %>
          <%= link_to "Directory", directory_path, class: "hover:underline", style: "color: var(--color-primary);" %>
          <% @dimensions.each_with_index do |(key, value), index| %>
            <span>‚Üí</span>
            <% if index == @dimensions.size - 1 %>
              <span class="font-medium" style="color: var(--color-foreground);"><%= value.name %></span>
            <% else %>
              <span><%= value.name %></span>
            <% end %>
          <% end %>
        <% end %>
      </nav>

      <!-- Stats Summary -->
      <div class="flex items-center space-x-6 text-sm" style="color: var(--color-muted-foreground);">
        <span><strong><%= @total_count %></strong> specialists found</span>
        <% if @dimensions[:skill] %>
          <span>‚Ä¢ <strong><%= @dimensions[:skill].name %></strong> expertise</span>
        <% end %>
        <% if @dimensions[:location] %>
          <span>‚Ä¢ <strong><%= @dimensions[:location].name %></strong> location</span>
        <% end %>
        <% if @dimensions[:service_type] %>
          <span>‚Ä¢ <strong><%= @dimensions[:service_type].name %></strong> engagement</span>
        <% end %>
        <% if @dimensions[:tool] %>
          <span>‚Ä¢ <strong><%= @dimensions[:tool].name %></strong> tool expertise</span>
        <% end %>
      </div>
    </div>

    <!-- Filter Summary Card -->
    <% if @dimensions.any? %>
      <div class="card mb-8">
        <div class="card-body">
          <h3 class="font-semibold mb-4" style="color: var(--color-foreground);">Active Filters</h3>
          <div class="flex flex-wrap gap-3">
            <% @dimensions.each do |key, value| %>
              <div class="flex items-center px-3 py-2 rounded-full text-sm" style="background-color: var(--color-accent); color: var(--color-accent-foreground);">
                <span class="mr-2">
                  <% case key %>
                  <% when :skill %>üéØ
                  <% when :location %>üìç
                  <% when :service_type %>üíº
                  <% when :tool %>üõ†Ô∏è
                  <% end %>
                </span>
                <span class="font-medium"><%= value.name %></span>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>

    <!-- Results Section -->
    <% if @marketers.any? %>
      <!-- Results Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <% @marketers.each do |profile| %>
          <div class="card">
            <div class="card-body">
              <div class="flex items-start space-x-4">
                <div class="w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold" style="background-color: var(--color-primary);">
                  <%= profile.account.name.first(2).upcase %>
                </div>
                <div class="flex-1">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="font-semibold" style="color: var(--color-foreground);"><%= profile.account.name %></h3>
                      <p class="text-sm" style="color: var(--color-muted-foreground);"><%= profile.title %></p>
                      <% if profile.location %>
                        <p class="text-xs mt-1" style="color: var(--color-muted-foreground);">üìç <%= profile.location.name %></p>
                      <% end %>
                    </div>
                    <div class="text-right">
                      <p class="font-semibold" style="color: var(--color-foreground);">$<%= profile.hourly_rate %>/hr</p>
                      <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400">
                          <% 5.times do %>
                            <svg class="w-3 h-3 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                          <% end %>
                        </div>
                        <span class="text-xs ml-1" style="color: var(--color-muted-foreground);">5.0 (12)</span>
                      </div>
                    </div>
                  </div>
                  <p class="text-sm mt-3" style="color: var(--color-muted-foreground);">
                    <%= truncate(profile.bio, length: 120) %>
                  </p>
                  <div class="flex items-center justify-between mt-4">
                    <div class="flex space-x-2">
                      <% if profile.skills.any? %>
                        <% profile.skills.limit(1).each do |skill| %>
                          <span class="badge badge-primary"><%= skill.name %></span>
                        <% end %>
                        <% profile.skills.offset(1).limit(2).each do |skill| %>
                          <span class="badge badge-outline"><%= skill.name %></span>
                        <% end %>
                        <% if profile.skills.count > 3 %>
                          <span class="badge badge-outline">+<%= profile.skills.count - 3 %> more</span>
                        <% end %>
                      <% end %>
                    </div>
                    <%= link_to "View Profile", marketer_path(profile), class: "btn btn-primary btn-sm" %>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>

      <!-- Pagination -->
      <div class="flex justify-center">
        <%= paginate @marketers %>
      </div>
    <% else %>
      <!-- Empty State -->
      <div class="text-center py-12">
        <div class="w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4" style="background-color: var(--color-accent);">
          <svg class="w-8 h-8" style="color: var(--color-primary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </div>
        <h3 class="text-lg font-medium mb-2" style="color: var(--color-foreground);">No specialists found</h3>
        <p class="text-sm mb-6" style="color: var(--color-muted-foreground);">Try browsing our directory or contact us for help finding the right specialist</p>
        <%= link_to "Browse All Specialists", directory_path, class: "btn btn-primary" %>
      </div>
    <% end %>

    <!-- SEO Content Section -->
    <div class="mt-12 prose max-w-none">
      <div class="card">
        <div class="card-body">
          <% if @dimensions[:skill] && @dimensions[:location] %>
            <h2 class="text-xl font-semibold mb-4" style="color: var(--color-foreground);">Why Choose <%= @dimensions[:skill].name %> Specialists in <%= @dimensions[:location].name %>?</h2>
            <p style="color: var(--color-muted-foreground);">
              Our <%= @dimensions[:skill].name %> specialists in <%= @dimensions[:location].name %> bring proven expertise and local market knowledge.
              Each professional has been vetted for their skills, experience, and track record of success.
            </p>
          <% elsif @dimensions[:skill] %>
            <h2 class="text-xl font-semibold mb-4" style="color: var(--color-foreground);">Expert <%= @dimensions[:skill].name %> Specialists</h2>
            <p style="color: var(--color-muted-foreground);">
              Connect with top <%= @dimensions[:skill].name %> professionals who can help grow your business.
              Our specialists have proven track records and verified expertise in <%= @dimensions[:skill].name %>.
            </p>
          <% elsif @dimensions[:location] %>
            <h2 class="text-xl font-semibold mb-4" style="color: var(--color-foreground);">Marketing Specialists in <%= @dimensions[:location].name %></h2>
            <p style="color: var(--color-muted-foreground);">
              Find local marketing talent in <%= @dimensions[:location].name %>. Work with professionals who understand
              your market and can provide hands-on, localized expertise.
            </p>
          <% elsif @dimensions[:tool] %>
            <h2 class="text-xl font-semibold mb-4" style="color: var(--color-foreground);"><%= @dimensions[:tool].name %> Experts</h2>
            <p style="color: var(--color-muted-foreground);">
              Connect with marketing professionals who are experts in <%= @dimensions[:tool].name %>.
              These specialists can help you maximize your ROI and optimize your <%= @dimensions[:tool].name %> campaigns.
            </p>
          <% else %>
            <h2 class="text-xl font-semibold mb-4" style="color: var(--color-foreground);">Find Your Perfect Marketing Specialist</h2>
            <p style="color: var(--color-muted-foreground);">
              Browse our directory of vetted marketing professionals. Each specialist brings unique expertise
              and proven results to help grow your business.
            </p>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- SEO Meta Tags -->
<% content_for :title do %><%= @meta_title %><% end %>
<% content_for :description do %><%= @meta_description %><% end %>